<section id="contact" class="py-24 bg-transparent border-t border-charcoal/10">
	<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
		
		<div class="max-w-xl mx-auto">
			<form id="contact-form" class="space-y-6 p-8 bg-white rounded-xl shadow-2xl border border-sand-accent/50 transition-opacity duration-300">
				<div id="form-content" class="space-y-6">
					<p class="text-charcoal-dark/80 text-center font-sans">
						Ready to start your architecture review? Let's talk.
					</p>
					
					<div>
						<label for="name" class="block text-sm font-mono-subhead text-charcoal mb-1">Name</label>
						<input type="text" id="name" name="name" required class="w-full px-4 py-3 border border-charcoal/30 rounded-lg focus:border-sand-accent focus:ring-1 focus:ring-sand-accent outline-none" />
					</div>
					
					<div>
						<label for="email" class="block text-sm font-mono-subhead text-charcoal mb-1">Email</label>
						<input type="email" id="email" name="email" required class="w-full px-4 py-3 border border-charcoal/30 rounded-lg focus:border-sand-accent focus:ring-1 focus:ring-sand-accent outline-none" />
					</div>
					
					<div>
						<label for="message" class="block text-sm font-mono-subhead text-charcoal mb-1">Project Details</label>
						<textarea id="message" name="message" rows="4" required class="w-full px-4 py-3 border border-charcoal/30 rounded-lg focus:border-sand-accent focus:ring-1 focus:ring-sand-accent outline-none"></textarea>
					</div>
					
					<button type="submit" id="submit-btn" class="w-full px-8 py-4 text-base font-mono-subhead text-parchment-light bg-charcoal rounded-lg hover:bg-sand-accent hover:text-charcoal transition-all duration-300 uppercase tracking-widest">
						Send Inquiry
					</button>
			</form>
		</div>
	</div>
</section>

<script>
	const form = document.getElementById('contact-form');
	const formContent = document.getElementById('form-content');
	const successMsg = document.getElementById('success-msg');
	const errorMsg = document.getElementById('error-msg');
	const submitBtn = document.getElementById('submit-btn');

	form?.addEventListener('submit', async (e) => {
		e.preventDefault();
		
		// Disable button to prevent double-submit
		if (submitBtn) {
			submitBtn.disabled = true;
			submitBtn.textContent = 'Sending...';
		}

		const formData = new FormData(form);

		try {
			const response = await fetch('/api/contact', {
				method: 'POST',
				body: formData
			});

			if (response.ok) {
				// Success!
				formContent?.classList.add('hidden');
				successMsg?.classList.remove('hidden');
			} else {
				throw new Error('Server error');
			}
		} catch (err) {
			errorMsg?.classList.remove('hidden');
			if (submitBtn) {
				submitBtn.disabled = false;
				submitBtn.textContent = 'Send Inquiry';
			}
		}
	});
</script>